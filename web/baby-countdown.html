<!doctype html>
<html itemscope itemtype="http://schema.org/WebPage">
<head dir="ltr">
    <meta charset="utf-8" />
    <meta content="noodp, noydir, noindex, nofollow" name="robots" />
    <title>Baby countdown &mdash; Daniel Morris</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <meta content="This is what I know about being gigantic." name="description" />
    <link href="/css/unfunco.css" rel="stylesheet" type="text/css" />
</head>
<body dir="ltr">
    <header role="presentation">
        <div class="contained">
            <h1>Daniel Morris</h1>
            <div class="headline">This is what I know about being a father&hellip;</div>
        </div>
    </header>
    <main role="main">
        <div class="contained">
        <section id="essays">
            <h2>Baby countdown</h2>
        </section>
        <section id="baby-countdown">
            <h2>Daniel has to watch or deliver the baby of his own child in&hellip;</h2>
            <p id="countdown"></p>
        </section>
        </div>
    </main>
    <footer role="contentinfo">
        <div class="contained">
            <p class="copyright">Copyright &copy; 2016 Daniel Morris.<br />Fingerprint: 9003 455D C511 D751 8571  5B8F 59D3 2E97 BE2E 8420</p>
        </div>
    </footer>
    <script type="text/javascript">

    var countdown = (function() {

        var div = document.getElementById('baby-countdown');
        var deadline = new Date(2019,9,31, 23, 59, 59);        
        var timer;

        function getDiff() {
            
            var now = (new Date()).getTime();
            var seconds = (deadline.getTime() - now) / 1000;
            var minutes = Math.floor(seconds/60);
            var hours = Math.floor(minutes/60);
            var days = Math.floor(hours/24);

            hours = hours-(days*24);
            minutes = minutes-(days*24*60)-(hours*60);
            seconds = seconds-(days*24*60*60)-(hours*60*60)-(minutes*60);

            return  {
                days:days,
                hours:hours,
                minutes:minutes,
                seconds:seconds
            }
        }

        function updateDiv() {
            var diff = getDiff();
            
            div.innerHTML = diff.days + ' days, ' +
                   diff.hours + ' hours, ' +
                   diff.minutes + ' minutes and ' +
                   diff.seconds.toFixed(0) + ' seconds.';

        }

        function doTick(){
            if ((new Date()) > deadline) {
                stop();
                //Do something when timer finishes
                return;
            }
            updateDiv();
        }

        function run(){
            setInterval(doTick, 1000);
        }

        function stop() {
            if (timer) {
                clearInterval(timer);
            }
        }


        return {
            run:run,
            stop:stop
        }
    })();

    countdown.run();

    </script>
    </body>
</html>
